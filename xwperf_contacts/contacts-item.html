<!doctype html>
<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Copyright 2014 Intel Corporation. All rights reserved.

License: BSD-3-clause-Google and BSD-3-clause-Intel, see LICENSE.txt
-->
<link rel="import" href="bower_components/core-icon/core-icon.html" />
<link rel="import" href="bower_components/core-icons/core-icons.html" />
<link rel="import" href="bower_components/paper-button/paper-button.html" />
<polymer-element name="contacts-item"
    attributes="name avatar color favorite favicon"
    horizontal layout center>
  <template>
    <style>
      .avatar {
        display: flex;
        flex-shrink: 0;
        color: white;
        align-items: center;
        justify-content: center;
        font-size: 50px;
        width: 64px;
        height: 64px;
        margin: 10px;
        background-color: gray;
      }
      .text {
        flex: 1;
        flex-shrink: 0;
        text-overflow: ellipsis;
      }
      #fave {
        color: #2196f3;
      }
      #not-fave {
        color: #bbdefb;
      }
      .fave {
        width: 64px;
        height: 64px;
      }
      :host {
        height: 80px;
        overflow: hidden;
        display: block;
      }
    </style>

    <div layout horizontal center relative flex class="item">
      <template if="{{ avatar}}">
        <div class="avatar">
          <img src="avatars/{{ avatar }}" />
        </div>
      </template>
      <template if="{{ !avatar }}">
        <div class="avatar" style="{{ color | styleObject }}">
          {{ name | getInitial }}
        </div>
      </template>

      <div class="text" id="text">
        {{ name }}
      </div>
    </div>

    <template if="{{ favicon }}">
      <paper-button class="fave" horizontal layout center end-justified
          on-tap="{{ toggleFavorite }}">
        <template if="{{ favorite }}">
          <core-icon icon="star" id="fave">
          </core-icon>
        </template>
        <template if="{{ !favorite }}">
          <core-icon icon="star-outline" id="not-fave">
          </core-icon>
        </template>
      </paper-button>
    </template>

  </template>
  <script>
    Polymer({
      favicon: false,
      getInitial: function(value) {
        return (value || 'x')[0].toUpperCase();
      },
      toggleFavorite: function() {
        this.favorite = !this.favorite;
      },
    });
  </script>
</polymer-element>
<!-- vim:set sw=2 sts=2 et: -->
